<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>38. The for Loop</title>
<link href="stylesheet.css" type="text/css" rel="stylesheet" />
</head>
<body>
<div id="leanpub-toc">
<h2></h2>
<ol class="toc has-parts">
<ul class='toc has-parts'>
  <li>
    <ul>
      <li>
        <a href='chap00.html#leanpub-auto-introduction'>Introduction</a>
      </li>
      <li>
        <a href='chap01.html#leanpub-auto-legal-notices'>Legal Notices</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap02.html#leanpub-auto-getting-started'><span class="section-number">I </span>Getting started</a>
    <ul>
      <li>
        <a href='chap03.html#leanpub-auto-installing-groovy'><span class="section-number">1. </span>Installing Groovy</a>
      </li>
      <li>
        <a href='chap04.html#leanpub-auto-your-first-lines-of-groovy'><span class="section-number">2. </span>Your first lines of Groovy</a>
      </li>
      <li>
        <a href='chap05.html#leanpub-auto-comments'><span class="section-number">3. </span>Comments</a>
      </li>
      <li>
        <a href='chap06.html#leanpub-auto-statements'><span class="section-number">4. </span>Statements</a>
      </li>
      <li>
        <a href='chap07.html#leanpub-auto-the-assert-statement'><span class="section-number">5. </span>The <code>assert</code> statement</a>
      </li>
      <li>
        <a href='chap08.html#leanpub-auto-reserved-words'><span class="section-number">6. </span>Reserved Words</a>
      </li>
      <li>
        <a href='chap09.html#leanpub-auto-packages'><span class="section-number">7. </span>Packages</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap10.html#leanpub-auto-variables'><span class="section-number">II </span>Variables</a>
    <ul>
      <li>
        <a href='chap11.html#leanpub-auto-declaring-variables'><span class="section-number">8. </span>Declaring Variables</a>
      </li>
      <li>
        <a href='chap12.html#leanpub-auto-data-types'><span class="section-number">9. </span>Data Types</a>
      </li>
      <li>
        <a href='chap13.html#leanpub-auto-objects'><span class="section-number">10. </span>Objects</a>
      </li>
      <li>
        <a href='chap14.html#leanpub-auto-booleans'><span class="section-number">11. </span>Booleans</a>
      </li>
      <li>
        <a href='chap15.html#leanpub-auto-numbers'><span class="section-number">12. </span>Numbers</a>
      </li>
      <li>
        <a href='chap16.html#leanpub-auto-strings'><span class="section-number">13. </span>Strings</a>
      </li>
      <li>
        <a href='chap17.html#leanpub-auto-collections'><span class="section-number">14. </span>Collections</a>
      </li>
      <li>
        <a href='chap18.html#leanpub-auto-arrays'><span class="section-number">15. </span>Arrays</a>
      </li>
      <li>
        <a href='chap19.html#leanpub-auto-ranges'><span class="section-number">16. </span>Ranges</a>
      </li>
      <li>
        <a href='chap20.html#leanpub-auto-regular-expressions'><span class="section-number">17. </span>Regular Expressions</a>
      </li>
      <li>
        <a href='chap21.html#leanpub-auto-data-types-1'><span class="section-number">18. </span>Data types</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap22.html#leanpub-auto-operators'><span class="section-number">III </span>Operators</a>
    <ul>
      <li>
        <a href='chap23.html#leanpub-auto-operators-1'><span class="section-number">19. </span>Operators</a>
      </li>
      <li>
        <a href='chap24.html#leanpub-auto-numeric-operators'><span class="section-number">20. </span>Numeric Operators</a>
      </li>
      <li>
        <a href='chap25.html#leanpub-auto-simple-assignment-operator'><span class="section-number">21. </span>Simple Assignment Operator</a>
      </li>
      <li>
        <a href='chap26.html#leanpub-auto-the-complement-operator'><span class="section-number">22. </span>The Complement Operator</a>
      </li>
      <li>
        <a href='chap27.html#leanpub-auto-equality-operators'><span class="section-number">23. </span>Equality Operators</a>
      </li>
      <li>
        <a href='chap28.html#leanpub-auto-arithmetic-operators'><span class="section-number">24. </span>Arithmetic operators</a>
      </li>
      <li>
        <a href='chap29.html#leanpub-auto-relational-operators'><span class="section-number">25. </span>Relational Operators</a>
      </li>
      <li>
        <a href='chap30.html#leanpub-auto-increment-and-decrement-operators'><span class="section-number">26. </span>Increment and Decrement Operators</a>
      </li>
      <li>
        <a href='chap31.html#leanpub-auto-conditional-operators'><span class="section-number">27. </span>Conditional Operators</a>
      </li>
      <li>
        <a href='chap32.html#leanpub-auto-bitwise-operators'><span class="section-number">28. </span>Bitwise Operators</a>
      </li>
      <li>
        <a href='chap33.html#leanpub-auto-compound-assignment-operators'><span class="section-number">29. </span>Compound Assignment Operators</a>
      </li>
      <li>
        <a href='chap34.html#leanpub-auto-string-operators-1'><span class="section-number">30. </span>String Operators</a>
      </li>
      <li>
        <a href='chap35.html#leanpub-auto-regular-expression-operators-1'><span class="section-number">31. </span>Regular Expression Operators</a>
      </li>
      <li>
        <a href='chap36.html#leanpub-auto-collection-operators-1'><span class="section-number">32. </span>Collection operators</a>
      </li>
      <li>
        <a href='chap37.html#leanpub-auto-object-operators-1'><span class="section-number">33. </span>Object Operators</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap38.html#leanpub-auto-control-flow-statements'><span class="section-number">IV </span>Control Flow Statements</a>
    <ul>
      <li>
        <a href='chap39.html#leanpub-auto-introduction-1'><span class="section-number">34. </span>Introduction</a>
      </li>
      <li>
        <a href='chap40.html#leanpub-auto-blocks'><span class="section-number">35. </span>Blocks</a>
      </li>
      <li>
        <a href='chap41.html#leanpub-auto-the-if-statement'><span class="section-number">36. </span>The <code>if</code> Statement</a>
      </li>
      <li>
        <a href='chap42.html#leanpub-auto-the-switch-statement'><span class="section-number">37. </span>The <code>switch</code> Statement</a>
      </li>
      <li>
        <a href='chap43.html#leanpub-auto-the-for-loop'><span class="section-number">38. </span>The <code>for</code> Loop</a>
      </li>
      <li>
        <a href='chap44.html#leanpub-auto-the-while-loop'><span class="section-number">39. </span>The <code>while</code> loop</a>
      </li>
      <li>
        <a href='chap45.html#leanpub-auto-branching-statements'><span class="section-number">40. </span>Branching statements</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap46.html#leanpub-auto-exceptions'><span class="section-number">V </span>Exceptions</a>
    <ul>
      <li>
        <a href='chap47.html#leanpub-auto-the-throwable-family'><span class="section-number">41. </span>The Throwable Family</a>
      </li>
      <li>
        <a href='chap48.html#leanpub-auto-common-exceptions'><span class="section-number">42. </span>Common Exceptions</a>
      </li>
      <li>
        <a href='chap49.html#leanpub-auto-anatomy-of-an-exception'><span class="section-number">43. </span>Anatomy of an Exception</a>
      </li>
      <li>
        <a href='chap50.html#leanpub-auto-try-catch-finally'><span class="section-number">44. </span>Try-Catch-Finally</a>
      </li>
      <li>
        <a href='chap51.html#leanpub-auto-how-much-should-we-try'><span class="section-number">45. </span>How Much Should We try?</a>
      </li>
      <li>
        <a href='chap52.html#leanpub-auto-causing-an-exception'><span class="section-number">46. </span>Causing an Exception</a>
      </li>
      <li>
        <a href='chap53.html#leanpub-auto-catching-errors'><span class="section-number">47. </span>Catching Errors</a>
      </li>
      <li>
        <a href='chap54.html#leanpub-auto-methods-and-exceptions'><span class="section-number">48. </span>Methods and Exceptions</a>
      </li>
    </ul>
  </li>
  <li>
    <a href='chap55.html#leanpub-auto-methods'><span class="section-number">VI </span>Methods</a>
    <ul>
      <li>
        <a href='chap56.html#leanpub-auto-the-basics'><span class="section-number">49. </span>The Basics</a>
      </li>
      <li>
        <a href='chap57.html#leanpub-auto-parameters'><span class="section-number">50. </span>Parameters</a>
      </li>
      <li>
        <a href='chap58.html#leanpub-auto-default-values-for-parameters'><span class="section-number">51. </span>Default Values for Parameters</a>
      </li>
      <li>
        <a href='chap59.html#leanpub-auto-named-arguments'><span class="section-number">52. </span>Named Arguments</a>
      </li>
      <li>
        <a href='chap60.html#leanpub-auto-variable-arguments-varargs'><span class="section-number">53. </span>Variable Arguments (Varargs)</a>
      </li>
      <li>
        <a href='chap61.html#leanpub-auto-return-value'><span class="section-number">54. </span>Return value</a>
      </li>
      <li>
        <a href='chap62.html#leanpub-auto-throwing-an-exception'><span class="section-number">55. </span>Throwing an exception</a>
      </li>
      <li>
        <a href='chap63.html#leanpub-auto-documenting-a-method'><span class="section-number">56. </span>Documenting a method</a>
      </li>
      <li>
        <a href='chap64.html#leanpub-auto-techniques'><span class="section-number">57. </span>Techniques</a>
      </li>
      <li>
        <a href='chap65.html#leanpub-auto-colophon'>Colophon</a>
      </li>
    </ul>
  </li>
</ul>

</ol>
</div>
<div id="leanpub-main">
<h2 id="leanpub-auto-the-for-loop"><span class="section-number">38. </span>The <code>for</code> Loop</h2>

<table class="information sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_info-circle.png" alt="information" width="50px" /></td>
    <td>
      <p>Groovy supports for-in loops, for-each loops and the C-style for loop.</p>

    </td>
  </tr>
  </tbody>
</table><p>The <code>for</code> loop will  repeat a block of code whilst its condition is <code>true</code>:</p>

<div class="code-block">
  <p class="codeblock-title"><code>for</code></p>

  <hr /><div class="highlight"><pre><code class="nx">for</code> <code class="p">(</code><code class="o">&lt;</code><code class="nx">condition</code><code class="o">&gt;</code><code class="p">)</code> <code class="p">{</code>
	<code class="c1">//statements</code>
<code class="p">}</code>
</pre></div>

  <hr /></div>

<h3 id="leanpub-auto-the-for-in-loop">The <code>for-in</code> Loop</h3>

<p>The for-each loop basically says “for each element is this collection, perform the following”:</p>

<div class="code-block">
  <p class="codeblock-title"><code>for-in</code></p>

  <hr /><div class="highlight"><pre><code class="nx">for</code> <code class="p">(</code><code class="o">&lt;</code><code class="kd">var</code><code class="o">&gt;</code> <code class="k">in</code> <code class="o">&lt;</code><code class="nb">iterator</code><code class="o">&gt;</code><code class="p">)</code> <code class="p">{</code>
	<code class="c1">//statements</code>
<code class="p">}</code>
</pre></div>

  <hr /></div>

<table class="tip sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_key.png" alt="tip" width="50px" /></td>
    <td>
      <p>The <code>for-in</code> loop may also be referred to as the for-each loop but I prefer the former as the <code>in</code> keyword is part of the syntax.</p>

    </td>
  </tr>
  </tbody>
</table><p>In the Groovy for-in loop we have a variable (<code>var</code>) provided as the next item in the <code>iterator</code><sup id="fnref-iterator"><a href="chap43.html#fn-iterator" rel="footnote">1</a></sup>. In most cases this is a collection of objects such as a list or map.</p>

<p>You can’t change the iterator within a loop - it’d just be too confusing! That means code such as the following causes an exception and won’t run:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">scores</code> <code class="o">=</code> <code class="p">[</code><code class="mi">4</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">2</code><code class="p">]</code>

<code class="k">for</code> <code class="p">(</code><code class="n">i</code> <code class="n">in</code> <code class="n">scores</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">scores</code> <code class="o">&lt;&lt;</code> <code class="n">i</code><code class="o">**</code><code class="mi">2</code>
<code class="p">}</code>
</pre></div>

</div>

<h4 id="leanpub-auto-using-a-range">Using a range</h4>
<p>Consider a variable called <code>countdown</code> to hold a range:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">countdown</code> <code class="o">=</code> <code class="p">(</code><code class="mf">10..0</code><code class="p">)</code>
</pre></div>

</div>

<p>By itself, <code>countdown</code> probably doesn’t seem too useful but let’s look at a <code>for</code> loop:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">countdown</code> <code class="o">=</code> <code class="p">(</code><code class="mf">10..0</code><code class="p">)</code>

<code class="k">for</code> <code class="p">(</code><code class="n">i</code> <code class="n">in</code> <code class="n">countdown</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">println</code> <code class="s">"Launch in T-$i seconds"</code>
<code class="p">}</code>

<code class="n">println</code> <code class="err">'</code><code class="n">Blast</code> <code class="n">off</code><code class="o">!</code><code class="err">'</code>
</pre></div>

</div>

<p>So let’s break down <code>for (i in countdown) {</code>:</p>

<ul><li>The <code>(...)</code> parentheses holds the condition</li>
  <li>The variable <code>i</code> will hold the next element in <code>countdown</code>
    <ul><li>You can name this as you would any other variable</li>
    </ul></li>
  <li>The element to the right of the <code>in</code> reserved word is the variable being iterated (looped) over</li>
  <li><code>{</code> starts the loop body 
    <ul><li>and its matching <code>}</code> closes it</li>
    </ul></li>
</ul><table class="information sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_info-circle.png" alt="information" width="50px" /></td>
    <td>
      <p><code>i</code> is commonly used to hold the value of each <strong>i</strong>teration</p>

    </td>
  </tr>
  </tbody>
</table><p>If you run this code in groovyConsole you’ll see our launch sequence displayed. </p>

<p>To make our code even more compact (yet readable), we can use the literal value for the range (<code>10..0</code>) in our <code>for</code> condition:</p>

<div class="code-block">
<div class="highlight"><pre><code class="k">for</code> <code class="p">(</code><code class="n">i</code> <code class="n">in</code> <code class="mf">10..0</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">println</code> <code class="s">"Launch in T-$i seconds"</code>
<code class="p">}</code>
<code class="n">println</code> <code class="err">'</code><code class="n">Blast</code> <code class="n">off</code><code class="o">!</code><code class="err">'</code>
</pre></div>

</div>

<h4 id="leanpub-auto-lists-1">Lists</h4>

<p>Looping through the items in a list is quite straight forward now you’ve seen the range example:</p>

<div class="code-block">
  <p class="codeblock-title">Looping through a list</p>

  <hr /><div class="highlight"><pre><code class="n">def</code> <code class="n">planets</code> <code class="o">=</code> <code class="p">[</code>
    <code class="err">'</code><code class="n">Mercury</code><code class="err">'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">Venus</code><code class="err">'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">Earth</code><code class="err">'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">Mars</code><code class="err">'</code>
<code class="p">]</code>

<code class="k">for</code> <code class="p">(</code><code class="n">planet</code> <code class="n">in</code> <code class="n">planets</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">println</code> <code class="n">planet</code>
<code class="p">}</code>
</pre></div>

  <hr /></div>

<table class="information sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_info-circle.png" alt="information" width="50px" /></td>
    <td>
      <p>Ranges work like Lists because, under the hood, ranges <em>are</em> Lists! Consider <code>1..3</code> - it’s actually a list of <code>[1, 2, 3]</code></p>

    </td>
  </tr>
  </tbody>
</table><h4 id="leanpub-auto-maps-1">Maps</h4>

<p>Iterating through maps is much the same as we did for lists but the iteration variable consists of the key and the value for that map item. The next code segment will just display the value of each map item:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">domains</code> <code class="o">=</code> <code class="p">[</code>
    <code class="err">'</code><code class="n">com</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">Corporate</code> <code class="n">sites</code><code class="err">'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">org</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">Non</code><code class="o">-</code><code class="n">commercial</code> <code class="n">sites</code><code class="err">'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">mil</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">Military</code> <code class="n">sites</code><code class="err">'</code>    
<code class="p">]</code>

<code class="k">for</code> <code class="p">(</code><code class="n">site</code> <code class="n">in</code> <code class="n">domains</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">println</code> <code class="n">site</code>
<code class="p">}</code>
</pre></div>

</div>

<p>The code above will display a set of lines such as <code>com=Corporate sites</code> - illustrating that <code>site</code> contains a key/value pair.</p>

<p>Instead of printing out the iteration variable (<code>site</code>) we can be a little smarter and access the key (<code>site.key</code>) and value (<code>site.value</code>) individually:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">domains</code> <code class="o">=</code> <code class="p">[</code>
    <code class="err">'</code><code class="n">com</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">Corporate</code> <code class="n">sites</code><code class="err">'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">org</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">Non</code><code class="o">-</code><code class="n">commercial</code> <code class="n">sites</code><code class="err">'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">mil</code><code class="err">'</code><code class="o">:</code> <code class="err">'</code><code class="n">Military</code> <code class="n">sites</code><code class="err">'</code>    
<code class="p">]</code>

<code class="k">for</code> <code class="p">(</code><code class="n">site</code> <code class="n">in</code> <code class="n">domains</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">println</code> <code class="n">site</code><code class="p">.</code><code class="n">key</code> <code class="o">&lt;&lt;</code> <code class="err">'</code><code class="o">:</code> <code class="err">'</code> <code class="o">&lt;&lt;</code> <code class="n">site</code><code class="p">.</code><code class="n">value</code>
<code class="p">}</code>
</pre></div>

</div>

<h3 id="leanpub-auto-the-java-for-each">The Java for-each</h3>

<p>Groovy supports Java’s version of a for-each loop:</p>

<div class="code-block">
<div class="highlight"><pre><code class="nx">for</code> <code class="p">(</code><code class="o">&lt;</code><code class="k">Type</code><code class="o">&gt;</code> <code class="o">&lt;</code><code class="kd">var</code><code class="o">&gt;</code><code class="p">:</code> <code class="o">&lt;</code><code class="nb">iterator</code><code class="o">&gt;</code><code class="p">)</code> <code class="p">{</code>
	<code class="c1">//statements</code>
<code class="p">}</code>
</pre></div>

</div>

<p>Unlike Groovy’s for-in loop, the Java version:</p>

<ul><li>uses <code>:</code> instead if <code>in</code></li>
  <li>Requires you to declare a data type for the iteration variable
    <ul><li>Which makes lists consisting of elements with different data types a little more tricky.</li>
    </ul></li>
</ul><p>Re-writing the previous planets example in the Java for-each style we’d see the following:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">planets</code> <code class="o">=</code> <code class="p">[</code>
    <code class="err">'</code><code class="n">Mercury</code><code class="err">'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">Venus</code><code class="err">'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">Earth</code><code class="err">'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">Mars</code><code class="err">'</code>
<code class="p">]</code>

<code class="k">for</code> <code class="p">(</code><code class="n">String</code> <code class="n">planet</code><code class="o">:</code> <code class="n">planets</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">println</code> <code class="n">planet</code>
<code class="p">}</code>
</pre></div>

</div>

<table class="information sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_info-circle.png" alt="information" width="50px" /></td>
    <td>
      <p><code>for (def planet: planets)</code> would also work</p>

    </td>
  </tr>
  </tbody>
</table><p>The Java version has no real benefit over the Groovy approach so I’d stick with the Groovy <code>for (&lt;var&gt; in &lt;iterator&gt;)</code>. The Groovy approach also makes for easier iteration over maps.</p>

<p>If you really want to set a data type for your iteration variable you can still be Groovy about it:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">planets</code> <code class="o">=</code> <code class="p">[</code>
    <code class="err">'</code><code class="n">Mercury</code><code class="err">'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">Venus</code><code class="err">'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">Earth</code><code class="err">'</code><code class="p">,</code>
    <code class="err">'</code><code class="n">Mars</code><code class="err">'</code><code class="p">,</code>
<code class="p">]</code>

<code class="k">for</code> <code class="p">(</code><code class="n">String</code> <code class="n">planet</code> <code class="n">in</code> <code class="n">planets</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">println</code> <code class="n">planet</code>
<code class="p">}</code>
</pre></div>

</div>

<h3 id="leanpub-auto-a-c-style-for-loop">A C-style <code>for</code> Loop</h3>
<p>Java (and Groovy) both offer the <code>for</code> loop syntax found in the C programming language:</p>

<div class="code-block">
  <p class="codeblock-title">C-style <code>for</code></p>

  <hr /><div class="highlight"><pre><code class="nx">for</code> <code class="p">(</code><code class="o">&lt;</code><code class="nx">init</code> <code class="kd">variable</code><code class="o">&gt;</code><code class="p">;</code> <code class="o">&lt;</code><code class="nx">condition</code><code class="o">&gt;</code><code class="p">;</code> <code class="o">&lt;</code><code class="nx">update</code> <code class="nx">expression</code><code class="o">&gt;</code><code class="p">)</code> <code class="p">{</code>
	<code class="c1">//statements</code>
<code class="p">}</code>
</pre></div>

  <hr /></div>

<ul><li><code>&lt;init variable&gt;</code> initialises the loop variable before the first iteration</li>
  <li><code>&lt;condition&gt;</code> sets the condition to be met for the iteration to commence</li>
  <li><code>&lt;update expression&gt;</code> is evaluated after each iteration</li>
</ul><p>This next example does the same as <code>for (i in (10..1))</code> but is more verbose:</p>

<div class="code-block">
<div class="highlight"><pre><code class="k">for</code> <code class="p">(</code><code class="n">i</code> <code class="o">=</code> <code class="mi">10</code><code class="p">;</code> <code class="n">i</code> <code class="o">&gt;=</code> <code class="mi">0</code><code class="p">;</code> <code class="n">i</code><code class="o">--</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">println</code> <code class="n">i</code>
<code class="p">}</code>
</pre></div>

</div>

<p>So what’s happening in <code>(i = 10; i &gt;= 0; i--)</code>?</p>

<ul><li><code>i = 10</code> initialises the loop variable <code>i</code> to <code>10</code></li>
  <li><code>i &gt;= 0</code> is the conditional that says “keep looping until <code>i</code> is no longer greater than or equal to 10”</li>
  <li><code>i--</code> is evaluated after each iteration - <code>i</code> is decremented by 1.</li>
</ul><p>The <code>&lt;update expression&gt;</code> can be a more complex expression:</p>

<div class="code-block">
<div class="highlight"><pre><code class="k">for</code> <code class="p">(</code><code class="n">i</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code> <code class="n">i</code> <code class="o">&lt;=</code> <code class="mi">20</code><code class="p">;</code> <code class="n">i</code> <code class="o">+=</code> <code class="mi">2</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">println</code> <code class="n">i</code>
<code class="p">}</code>
</pre></div>

</div>

<h4 id="leanpub-auto-infinite-loops">Infinite loops</h4>
<p>The C-style <code>for</code> loop can let you set up infinite loops:</p>

<div class="code-block">
  <p class="codeblock-title">An infinite loop</p>

  <hr /><div class="highlight"><pre><code class="k">for</code> <code class="p">(;;)</code> <code class="p">{</code>

<code class="p">}</code>
</pre></div>

  <hr /></div>

<p>These are often used in event-based systems. Essentially, the program will enter a loop and await incoming events such as a mouse-click. It’s a very interesting aspect to coding but outside the scope of these tutorials.</p>

<table class="warning sidebarish">
  <tbody>
    <tr><td class="sidebar-icon">
      <img class="sidebar-image" src="images/leanpub_warning.png" alt="warning" width="50px" /></td>
    <td>
      <h3 id="leanpub-auto-staring-into-the-abyss">Staring into the abyss</h3>
  <p>The term ‘infinite’ should set off an alarm in your head - be careful as this type of coding can cause your system to stop responding!</p>

    </td>
  </tr>
  </tbody>
</table><p>The C-style loop doesn’t protect you from altering the thing you’re working on and, perhaps inadvertently, creating an infinite loop. That means that the code below needs the safety brake provided by (<code>&amp;&amp; i &lt; 20</code>) as the loop keeps altering the size of <code>scores</code>. If you take out <code>&amp;&amp; i &lt; 20</code> and run the code below it won’t stop unless you interrupt it or you run out of system resources:</p>

<div class="code-block">
<div class="highlight"><pre><code class="n">def</code> <code class="n">scores</code> <code class="o">=</code> <code class="p">[</code><code class="mi">4</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">2</code><code class="p">]</code>

<code class="k">for</code> <code class="p">(</code><code class="n">i</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code> <code class="n">i</code> <code class="o">&lt;</code> <code class="n">scores</code><code class="p">.</code><code class="n">size</code> <code class="o">&amp;&amp;</code> <code class="n">i</code> <code class="o">&lt;</code> <code class="mi">20</code><code class="p">;</code> <code class="n">i</code><code class="o">++</code><code class="p">)</code> <code class="p">{</code>
    <code class="n">println</code> <code class="n">scores</code><code class="p">[</code><code class="n">i</code><code class="p">]</code>
    <code class="n">scores</code> <code class="o">&lt;&lt;</code> <code class="n">scores</code><code class="p">[</code><code class="n">i</code><code class="p">]</code><code class="o">**</code><code class="mi">2</code>   
<code class="p">}</code>
</pre></div>

</div>

<div class="footnotes">
  <ol><li id="fn-iterator">Many Groovy classes implement a feature (interface) named <code>Iterable</code> and these let you easily iterate over a collection of items. Lists and Maps are both iterable, making it very easy to loop through their contents.<a href="chap43.html#fnref-iterator" rev="footnote">↩</a></li>
  </ol></div>
</div>
</body>
</html>
